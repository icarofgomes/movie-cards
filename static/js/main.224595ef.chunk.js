(this["webpackJsonpmovie-cards"]=this["webpackJsonpmovie-cards"]||[]).push([[0],{28:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(20),c=n.n(r),o=(n(28),n(12)),s=n(10),u=n(2),l=n(3),d=n.n(l),h=n(11),b=n(4),j=n(5),m=n(7),v=n(6),p=n(0),f=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:"Carregando..."})}}]),n}(a.Component),O=f,x=n(15),g=n(13),y=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state=Object(o.a)({},e.movie),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(j.a)(n,[{key:"handleSubmit",value:function(){(0,this.props.onSubmit)(this.state)}},{key:"updateMovie",value:function(e,t){this.setState(Object(x.a)({},e,t))}},{key:"renderTitleInput",value:function(){var e=this,t=this.state.title;return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{htmlFor:"movie_title",children:[Object(p.jsx)("input",{placeholder:"Insira o t\xedtulo",id:"movie_title",type:"text",className:"validate",value:t,onChange:function(t){return e.updateMovie("title",t.target.value)}}),"T\xedtulo"]})})}},{key:"renderSubtitleInput",value:function(){var e=this,t=this.state.subtitle;return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{htmlFor:"movie_subtitle",children:[Object(p.jsx)("input",{placeholder:"Insira o subt\xedtulo",id:"movie_subtitle",type:"text",value:t,onChange:function(t){return e.updateMovie("subtitle",t.target.value)}}),"Subt\xedtulo"]})})}},{key:"renderImagePathInput",value:function(){var e=this,t=this.state.imagePath;return Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("label",{htmlFor:"movie_image",children:[Object(p.jsx)("input",{placeholder:"Insira o caminho da imagem",id:"movie_image",type:"text",value:t,onChange:function(t){return e.updateMovie("imagePath",t.target.value)}}),"Imagem"]})})}},{key:"renderStorylineInput",value:function(){var e=this,t=this.state.storyline;return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{htmlFor:"movie_storyline",children:[Object(p.jsx)("textarea",{id:"movie_storyline",value:t,onChange:function(t){return e.updateMovie("storyline",t.target.value)}}),"Sinopse"]})})}},{key:"renderGenreSelection",value:function(){var e=this,t=this.state.genre;return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{htmlFor:"movie_genre",children:["G\xeanero",Object(p.jsxs)("select",{id:"movie_genre",value:t,onChange:function(t){return e.updateMovie("genre",t.target.value)},children:[Object(p.jsx)("option",{value:"action",children:"A\xe7\xe3o"}),Object(p.jsx)("option",{value:"comedy",children:"Com\xe9dia"}),Object(p.jsx)("option",{value:"thriller",children:"Suspense"}),Object(p.jsx)("option",{value:"fantasy",children:"Fantasia"})]})]})})}},{key:"renderRatingInput",value:function(){var e=this,t=this.state.rating;return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{htmlFor:"movie_rating",children:[Object(p.jsx)("input",{placeholder:"D\xea a avalia\xe7\xe3o do filme",id:"movie_rating",type:"number",step:.1,min:0,max:5,value:t,onChange:function(t){return e.updateMovie("rating",t.target.value)}}),"Avalia\xe7\xe3o"]})})}},{key:"renderSubmitButton",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"button",onClick:this.handleSubmit,children:"Submit"})})}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{children:[this.renderTitleInput(),this.renderSubtitleInput(),this.renderImagePathInput(),this.renderStorylineInput(),this.renderGenreSelection(),this.renderRatingInput(),this.renderSubmitButton()]})})}}]),n}(i.a.Component),k=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.movie;console.log(e);var t=e.title,n=e.storyline,a=e.id;return Object(p.jsxs)("div",{"data-testid":"movie-card",children:[Object(p.jsx)("div",{children:t}),Object(p.jsx)("div",{children:n}),Object(p.jsx)("div",{children:Object(p.jsx)(s.b,{to:"/movies/".concat(a),children:"VER DETALHES"})})]})}}]),n}(i.a.Component),S=k,w=n(23),I=[{id:1,title:"Star Wars",subtitle:"Empire Strikes Back",storyline:"Yoda treina Luke Skywalker para ser um cavaleiro Jedi. Han Solo corteja a Princesa Leia enquanto Darth Vader retorna para combater as for\xe7as rebeldes que tentam salvar a gal\xe1xia.",rating:4.5,imagePath:"https://live.staticflickr.com/65535/48207320557_01bf42f0f3_b.jpg",bookmarked:!0,genre:"action"},{id:2,title:"A Clockwork Orange",subtitle:"Laranja Mec\xe2nica",storyline:"O jovem Alex passa as noites com uma gangue de amigos briguentos. Depois que \xe9 preso, se submete a uma t\xe9cnica de modifica\xe7\xe3o de comportamento para poder ganhar sua liberdade.",rating:4.5,imagePath:"https://live.staticflickr.com/2761/4062111702_98da5213b1_b.jpg",bookmarked:!1,genre:"action"},{id:3,title:"Ratatouille",subtitle:"Ratatouille",storyline:"Remy reside em Paris e possui um sofisticado paladar. Seu sonho \xe9 se tornar um chef de cozinha e desfrutar as diversas obras da arte culin\xe1ria. O \xfanico problema \xe9 que ele \xe9 um rato. Quando se acha dentro de um dos restaurantes mais finos de Paris, Remy decide transformar seu sonho em realidade.",rating:5,imagePath:"https://live.staticflickr.com/1248/1051508675_5ffd3d1093.jpg",bookmarked:!1,genre:"comedy"},{id:4,title:"Appleseed Alpha",subtitle:"Appleseed Alpha",storyline:"A young female soldier Deunan and her cyborg partner Briareos survive through the post World War 3 apocalyptic New York in search of human's future hope, the legendary city of Olympus.",rating:3.8,imagePath:"images/Appleseed_Alpha.jpg",bookmarked:!0,genre:"action"},{id:5,title:"Resident Evil",subtitle:"Vendetta",storyline:"Chris Redfield enlists the help of Leon S. Kennedy and Rebecca Chambers to stop a death merchant, with a vengeance, from spreading a deadly virus in New York.",rating:4.2,imagePath:"images/Resident_Evil_Vendetta.jpg",bookmarked:!0,genre:"fantasy"}];localStorage.setItem("movies",JSON.stringify(I));var C=function(){return JSON.parse(localStorage.getItem("movies"))},R=function(e){return localStorage.setItem("movies",JSON.stringify(e))},_="OK",P=function(e){return function(t){setTimeout((function(){t(e)}),2e3)}},A=function(e){var t=C().find((function(t){return t.id===parseInt(e,10)}));return new Promise((function(e){P(t)(e)}))},D=function(e){return new Promise((function(t){var n=C().map((function(t){return t.id===parseInt(e.id,10)?Object(o.a)(Object(o.a)({},t),e):t}));R(n),P(_)(t)}))},M=function(e){return new Promise((function(t){var n=C(),a=n[n.length-1].id+1,i=Object(o.a)(Object(o.a)({},e),{},{id:a});n=[].concat(Object(w.a)(n),[i]),R(n),P(_)(t)}))},E=function(e){var t=C();return t=t.filter((function(t){return t.id!==parseInt(e,10)})),R(t),new Promise((function(e){P({status:_})(e)}))},T=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).fetchList=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e){var t=C();P(t)(e)}));case 2:n=t.sent,e.setState({movies:n});case 4:case"end":return t.stop()}}),t)}))),e.state={movies:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"render",value:function(){var e=this.state.movies.map((function(e){return Object(p.jsx)(S,{movie:e},e.title)}));return 0===e.length?Object(p.jsx)(O,{}):Object(p.jsxs)("div",{"data-testid":"movie-list",children:[e,Object(p.jsx)(s.b,{to:"/movies/new",children:"ADICIONAR CART\xc3O"})]})}}]),n}(a.Component),F=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).fetchDetails=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,A(t);case 3:n=e.sent,a.setState({movie:n});case 5:case"end":return e.stop()}}),e)}))),a.deleteFunction=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,E(t);case 3:case"end":return e.stop()}}),e)}))),a.state={movie:""},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchDetails();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movie,t=e.title,n=e.storyline,a=e.imagePath,i=e.genre,r=e.rating,c=e.subtitle,o=e.id;return t?Object(p.jsxs)("div",{"data-testid":"movie-details",children:[Object(p.jsx)("h1",{children:"Title: ".concat(t)}),Object(p.jsx)("img",{alt:"Movie Cover",src:a}),Object(p.jsx)("p",{children:"Subtitle: ".concat(c)}),Object(p.jsx)("p",{children:"Storyline: ".concat(n)}),Object(p.jsx)("p",{children:"Genre: ".concat(i)}),Object(p.jsx)("p",{children:"Rating: ".concat(r)}),Object(p.jsx)(s.b,{to:"/movie-cards",children:"VOLTAR"}),Object(p.jsx)(s.b,{to:"".concat(o,"/edit"),children:"EDITAR"}),Object(p.jsx)(s.b,{to:"/movie-cards",onClick:this.deleteFunction,children:"DELETAR"})]}):Object(p.jsx)(O,{})}}]),n}(a.Component),L=F,N=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={shouldRedirect:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(j.a)(n,[{key:"handleSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:this.setState({shouldRedirect:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.shouldRedirect?Object(p.jsx)(u.a,{to:"/movie-cards"}):Object(p.jsx)("div",{"data-testid":"new-movie",children:Object(p.jsx)(y,{onSubmit:this.handleSubmit})})}}]),n}(a.Component),B=N,J=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).fetchDetails=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,A(t);case 3:n=e.sent,a.setState({movie:n});case 5:case"end":return e.stop()}}),e)}))),a.state={movie:"",shouldRedirect:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchDetails();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:this.setState({movie:t,shouldRedirect:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.shouldRedirect,n=e.movie;return t?Object(p.jsx)(u.a,{to:"/movie-cards"}):""===n?Object(p.jsx)(O,{}):Object(p.jsx)("div",{"data-testid":"edit-movie",children:Object(p.jsx)(y,{movie:n,onSubmit:this.handleSubmit})})}}]),n}(a.Component),V=J,W=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{"data-testid":"404-error",children:"P\xe1gina n\xe3o encontrada"})}}]),n}(a.Component),q=W;var G=function(){return Object(p.jsx)(s.a,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{exact:!0,path:"/movies/new",component:B}),Object(p.jsx)(u.b,{exact:!0,path:"/movies/:id/edit",render:function(e){return Object(p.jsx)(V,Object(o.a)({},e))}}),Object(p.jsx)(u.b,{exact:!0,path:"/movie-cards",component:T}),Object(p.jsx)(u.b,{exact:!0,path:"/movies/:id",render:function(e){return Object(p.jsx)(L,Object(o.a)({},e))}}),Object(p.jsx)(u.b,{component:q})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(p.jsx)(G,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.224595ef.chunk.js.map